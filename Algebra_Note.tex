\documentclass[a4paper,12pt,numbers=noenddot]{article}
% 英文字型環境----------------------------------------------------------------
\usepackage{fontspec}%英文字型
% 編號環境----------------------------------------------------------------
% \usepackage{secdot}%section標號後方加上一點
\usepackage{enumitem}%標號巨集
\usepackage{nopageno}
\usepackage[makeroom]{cancel}
\usepackage{listofitems}
\usepackage{amsmath, amsthm, amsfonts, amssymb}
\usepackage{pythonhighlight}
\renewcommand{\Re}{\mathfrak{Re}}
\renewcommand{\Im}{\mathfrak{Im}}
% \usepackage[T1]{fontenc}
% \usepackage{mathptmx}
% \DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
% \DeclareSymbolFont{largesymbols}{OMX}{cmex}{m}{n}
\usepackage{colortbl}
\usepackage{multirow}
\usepackage{arydshln}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks,linkcolor=blue]{hyperref}
\hypersetup{hidelinks,          % 隱藏邊框
            colorlinks=true,    % 啟用彩色連結
            linkcolor=black,    % 目錄、圖片等內部連結為黑色
            citecolor=blue,    % 參考文獻連結為黑色
            filecolor=black,    % 檔案連結為黑色
            urlcolor=blue,      % URL 連結為藍色
            pdfstartview=Fit,
            breaklinks=true
}

\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{tikzpeople}
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{makecell}
\usepackage{tabularx}
\parindent=0pt
\usepackage{tikz}
\usetikzlibrary{tikzmark}
\usetikzlibrary{matrix}

\usepackage{fancyhdr}
\fancypagestyle{firstpagestyle}{
\cfoot{}
\fancyhead[R]{}
\fancyhead[L]{}
\fancyfoot[C]{\thepage}
\renewcommand{\headwidth}{18cm}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{1pt}}

\fancypagestyle{secondpagestyle}{
\cfoot{}
\fancyhead[R]{}
\fancyhead[L]{}
\fancyfoot[C]{\thepage}
\renewcommand{\headwidth}{18cm}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}}

\fancypagestyle{evenpagestyle}{
\cfoot{}
\fancyhead[R]{Fall 2025, Introduction to Algebra (I)}
\fancyhead[L]{Preview Note}
\fancyfoot[R]{Atmospheric Sciences, National Taiwan University}
\fancyfoot[L]{Page \thepage\ of\ 20}
\renewcommand{\headwidth}{18cm}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}}

\fancypagestyle{oddpagestyle}{
\cfoot{}
\fancyhead[L]{Fall 2025, Introduction to Algebra (I)}
\fancyhead[R]{Preview Note}
\fancyfoot[L]{Atmospheric Sciences, National Taiwan University}
\fancyfoot[R]{Page \thepage\ of\ 20}
\renewcommand{\headwidth}{18cm}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{1pt}}

\definecolor{codegreen}{rgb}{0,0.8,0}
\definecolor{codegray}{rgb}{0.8,0.8,0.8}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{codered}{rgb}{1.0,0,0.0}
\definecolor{backcolor}{rgb}{0.85,1.0,1.0}
\definecolor{rain}{rgb}{0.1,0.54,1.0}
\definecolor{sky}{rgb}{0.6,0.75,0.95}

\colorlet{myred}{red!80!black}
\colorlet{myblue}{blue!80!black}
\colorlet{mygreen}{green!60!black}
\colorlet{myorange}{orange!80!black!80}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolor},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{rain},
    numberstyle=\color{gray}\scriptsize,
    stringstyle=\color{codered},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=ture,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\NewTotalTColorBox[auto counter]{\Theorem}{ +m +m +m }{ 
    notitle,
    colback=red!6!white,
    colbacklower=white,
    frame hidden,
    boxrule=0pt,
    bicolor,
    sharp corners,
    borderline west={4pt}{0pt}{red!50!white},
}{
    \textcolor{red!50!white}{
        \sffamily
        \textbf{Theorem #1 }%
    }%
    #2
    \tcblower%
    \textcolor{red!50!white}{
        \sffamily
        \textbf{Proof. }%
    }%
    #3
}

\NewTotalTColorBox[auto counter]{\Definition}{ +m +m }{ 
    notitle,
    colback=blue!10!green!5!white,
    frame hidden,
    boxrule=0pt,
    enhanced,
    sharp corners,
    borderline west={4pt}{0pt}{green!60!blue},
}{
    \textcolor{green!60!blue}{
        \sffamily
        \textbf{Definition #1 }%
    }%
    #2
}

\NewTotalTColorBox[auto counter]{\Proposition}{ +m +m +m }{ 
    notitle,
    colback=brown!10!orange!5!white,
    colbacklower=white,
    frame hidden,
    boxrule=0pt,
    bicolor,
    sharp corners,
    borderline west={4pt}{0pt}{orange!20!brown},
}{
    \textcolor{orange!20!brown}{
        \sffamily
        \textbf{Proposition #1 }%
    }%
    #2
    \tcblower%
    \textcolor{orange!20!brown}{
        \sffamily
        \textbf{Proof. }%
    }%
    #3
}

\NewTotalTColorBox[auto counter]{\Example}{ +m +m +m }{ 
    notitle,
    colback=blue!5!white,
    colbacklower=white,
    frame hidden,
    boxrule=0pt,
    bicolor,
    sharp corners,
    borderline west={4pt}{0pt}{blue!60!black},
}{
    \textcolor{blue!60!black}{
        \sffamily
        \textbf{Example #1 }%
    }%
    #2
    \tcblower%
    \textcolor{blue!60!black}{
        \sffamily
        \textbf{Sol. }%
    }%
    #3
}

\NewTotalTColorBox[auto counter]{\Exam}{ +m +m }{ 
    notitle,
    colback=blue!5!white,
    frame hidden,
    boxrule=0pt,
    enhanced,
    sharp corners,
    borderline west={4pt}{0pt}{blue!60!black},
}{
    \textcolor{blue!60!black}{
        \sffamily
        \textbf{Example #1 }%
    }%
    #2
}

\NewTotalTColorBox[auto counter]{\Proppf}{ +m }{ 
    notitle,
    colback=white,
    colbacklower=white,
    frame hidden,
    boxrule=0pt,
    bicolor,
    sharp corners,
    borderline west={4pt}{0pt}{orange!20!brown},
}{
    \textcolor{orange!20!brown}{
    }%
    #1
}

\usepackage{caption}
\captionsetup{
    justification=centering
}

\newcommand{\abs}[1]{\left\vert #1 \right\vert}
\newcommand{\mb}[1]{\mathbb{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}

% 每段文字的行頭縮排2個字 -----------------------------------
\usepackage{indentfirst}
\linespread{1.2}\selectfont
\setlength{\parindent}{0pt}

% 版面環境----------------------------------------------------------------
\usepackage{geometry}%版面設定的巨集
\geometry{headsep=20pt}
\geometry{%版面設定
a4paper,
total={210mm,297mm}, %寬210mm,長297mm
top=20mm, % 上下左右的空白寬
bottom=20mm,
left=15mm,
right=15mm}

%內容開始 ----------------------------------------------------------------
\begin{document}
\thispagestyle{firstpagestyle}
\pagenumbering{roman}
\begin{center}
{\bf\large Fall 2025\hspace{4pt} Introduction to Algebra (I)}

\vspace{10pt}
{\bf\large Preview Note}

\vspace{10pt}
{Department : Atmospheric Sciences\hspace{10pt}
Name : Guan-Hao, Chen\hspace{10pt}Student ID : B11209022}
\vspace{6pt}
\textcolor{gray}{\rule{\linewidth}{0.5pt}}
\end{center}
\vspace{-25pt}
\thispagestyle{firstpagestyle}
\begin{center}
    \tableofcontents
\end{center}
\newpage
\thispagestyle{oddpagestyle}
\pagenumbering{arabic}
\setcounter{page}{1}
\setcounter{section}{-1}
% ==============================================================================
\section{Preliminaries}
\input{sec0.tex}
\newpage
\thispagestyle{evenpagestyle}
\part{Group Theory}
\section{Introduction to Groups}
\input{sec1.tex}
\section{Subgroups}
\addtocontents{toc}{\protect\newpage}
\addtocontents{toc}{\protect\thispagestyle{secondpagestyle}}
% ==============================================================================
\end{document}